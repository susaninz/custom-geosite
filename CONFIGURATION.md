# ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Custom Geosite

**–í–µ—Ä—Å–∏—è:** v1.0.7  
**–†–∞–∑–º–µ—Ä:** 89 KB (92 KB –Ω–µ—Å–∂–∞—Ç—ã–π)  
**RAM usage:** ~20-30 MB  
**–≠–∫–æ–Ω–æ–º–∏—è:** 48% (–±—ã–ª–æ 105 MB)

---

## üéØ –§–∏–ª–æ—Å–æ—Ñ–∏—è

**–ú–∏–Ω–∏–º–∞–ª–∏–∑–º –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —ç–∫–æ–Ω–æ–º–∏–∏ RAM.**

–í–∫–ª—é—á–∞–µ–º –¢–û–õ–¨–ö–û –Ω—É–∂–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –∏—Å–∫–ª—é—á–∞–µ–º –≤—Å—ë –ª–∏—à–Ω–µ–µ.

–†–æ—É—Ç–µ—Ä Xiaomi AX3200 –∏–º–µ–µ—Ç –≤—Å–µ–≥–æ 256 MB RAM - –∫–∞–∂–¥—ã–π –º–µ–≥–∞–±–∞–π—Ç –∫—Ä–∏—Ç–∏—á–µ–Ω!

---

## üìã –í–∫–ª—é—á–µ–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (10 —à—Ç—É–∫)

```yaml
GEOSITE_CATEGORIES:
  category-ads-all      # –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ–∫–ª–∞–º—ã
  instagram             # 74 –¥–æ–º–µ–Ω–∞
  facebook              # 395 –¥–æ–º–µ–Ω–æ–≤
  twitter               # 24 –¥–æ–º–µ–Ω–∞
  youtube               # 177 –¥–æ–º–µ–Ω–æ–≤
  netflix               # 28 –¥–æ–º–µ–Ω–æ–≤
  soundcloud            # 3 –¥–æ–º–µ–Ω–∞
  kinopub               # 5 –¥–æ–º–µ–Ω–æ–≤
  category-ai-!cn       # AI —Å–µ—Ä–≤–∏—Å—ã (–∫—Ä–æ–º–µ –ö–∏—Ç–∞—è)
  category-gov-ru       # –ì–æ—Å–æ—Ä–≥–∞–Ω—ã –†–§
```

**–ò—Ç–æ–≥–æ:**
- ~700-800 –¥–æ–º–µ–Ω–æ–≤
- 86 —Ñ–∞–π–ª–æ–≤ (—Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏)
- 89 KB –Ω–∞ –¥–∏—Å–∫–µ
- ~20-30 MB –≤ RAM

---

## ‚ùå –ù–∞–º–µ—Ä–µ–Ω–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

### –ö–∞—Ç–µ–≥–æ—Ä–∏—è `cn` (–ö–∏—Ç–∞–π)

**–ü–æ—á–µ–º—É –∏—Å–∫–ª—é—á–µ–Ω–∞:**

```
cn –≤–∫–ª—é—á–∞–µ—Ç:
‚îú‚îÄ ~500-1000 –ø—Ä—è–º—ã—Ö –¥–æ–º–µ–Ω–æ–≤
‚îú‚îÄ ~50+ include: –¥—Ä—É–≥–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
‚îú‚îÄ –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ: ~250 —Ñ–∞–π–ª–æ–≤
‚îÇ  ‚îú‚îÄ alibaba (10+ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π)
‚îÇ  ‚îú‚îÄ tencent (15+ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π)
‚îÇ  ‚îú‚îÄ bytedance (20+ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π)
‚îÇ  ‚îú‚îÄ wechat, qq, taobao, bilibili...
‚îÇ  ‚îî‚îÄ ... –≤—Å–µ–≥–æ ~250 —Ñ–∞–π–ª–æ–≤
‚îî‚îÄ –ò—Ç–æ–≥–æ: ~3500-6000 –¥–æ–º–µ–Ω–æ–≤

–†–µ–∑—É–ª—å—Ç–∞—Ç:
‚îú‚îÄ –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 89KB ‚Üí 400KB (+311KB)
‚îú‚îÄ RAM usage: 30MB ‚Üí 100MB (+70MB)
‚îî‚îÄ –≠–∫–æ–Ω–æ–º–∏—è —Ç–µ—Ä—è–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é!
```

**OpenClash warning:**

```
level=warning msg="GeoSite.dat invalid, remove and download: list cn not found"
```

**–ü–æ—á–µ–º—É —ç—Ç–æ OK:**

1. ‚úÖ OpenClash –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `cn` –¥–ª—è –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ (hardcoded check)
2. ‚úÖ –ù–µ –Ω–∞—Ö–æ–¥–∏—Ç ‚Üí –≤—ã–¥–∞—ë—Ç warning
3. ‚úÖ **–ü–†–û–î–û–õ–ñ–ê–ï–¢ —Ä–∞–±–æ—Ç–∞—Ç—å** —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
4. ‚úÖ –í—Å–µ –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç–∞—é—Ç (YouTube, Facebook, Instagram...)
5. ‚úÖ Status: running (—Å—Ç–∞–±–∏–ª—å–Ω–æ)

**–í—ã–≤–æ–¥:** Warning –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π, –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–π.

### –î—Ä—É–≥–∏–µ –±–æ–ª—å—à–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

–¢–∞–∫–∂–µ –∏—Å–∫–ª—é—á–µ–Ω—ã:
- `geolocation-*` - –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º)
- `category-games` - –∏–≥—Ä—ã (–Ω–µ –Ω—É–∂–Ω–æ)
- `category-scholar-*` - –Ω–∞—É—á–Ω—ã–µ —Å–∞–π—Ç—ã
- `category-bank-*` - –±–∞–Ω–∫–∏
- `apple-*` (–æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ Apple)
- `google-*` (–æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ Google)
- ... –≤—Å–µ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–æ 390+ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π geosite.dat

```
–ö–∞—Ç–µ–≥–æ—Ä–∏–π: 400+
–†–∞–∑–º–µ—Ä: ~200 KB
RAM: ~100 MB
–î–ª—è AX3200: –ö–†–ò–¢–ò–ß–ù–û! (41% –≤—Å–µ–π RAM)
```

### MetaCubeX geosite-lite.dat

```
–ö–∞—Ç–µ–≥–æ—Ä–∏–π: ~150
–†–∞–∑–º–µ—Ä: 172 KB
RAM: ~60-70 MB
–≠–∫–æ–Ω–æ–º–∏—è: ~30%
```

### –ù–∞—à custom geosite.dat ‚úÖ

```
–ö–∞—Ç–µ–≥–æ—Ä–∏–π: 10 (—Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ)
–†–∞–∑–º–µ—Ä: 89 KB
RAM: ~30 MB
–≠–∫–æ–Ω–æ–º–∏—è: 70% (!)
```

---

## üîß –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ workflow

**–§–∞–π–ª:** `.github/workflows/build-geosite.yml`

```yaml
env:
  GEOSITE_CATEGORIES: >-
    category-ads-all
    instagram
    facebook
    twitter
    youtube
    netflix
    soundcloud
    kinopub
    category-ai-!cn
    category-gov-ru
    # –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∑–¥–µ—Å—å
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

**Upstream:** https://github.com/v2fly/domain-list-community/tree/master/data

**–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**
- `telegram` - Telegram –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä
- `tiktok` - TikTok
- `whatsapp` - WhatsApp
- `discord` - Discord
- `microsoft` - Microsoft —Å–µ—Ä–≤–∏—Å—ã
- `apple` - Apple —Å–µ—Ä–≤–∏—Å—ã
- `google` - Google —Å–µ—Ä–≤–∏—Å—ã
- `amazon` - Amazon
- `category-games` - –∏–≥—Ä–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ —Å–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ domain-list-community
git clone https://github.com/v2fly/domain-list-community.git

# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
cat domain-list-community/data/CATEGORY_NAME

# –ü–æ—Å—á–∏—Ç–∞–π—Ç–µ include:
grep "^include:" domain-list-community/data/CATEGORY_NAME | wc -l

# –ü—Ä–∞–≤–∏–ª–æ: –µ—Å–ª–∏ include > 10, –∫–∞—Ç–µ–≥–æ—Ä–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ –±–æ–ª—å—à–∞—è
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
1. Commit + push –≤ GitHub
2. GitHub Actions —Å–æ–±–µ—Ä—ë—Ç –Ω–æ–≤—ã–π geosite.dat
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –≤ Release
4. –ï—Å–ª–∏ < 150 KB - –û–ö ‚úÖ
5. –ï—Å–ª–∏ > 200 KB - –∫–∞—Ç–µ–≥–æ—Ä–∏—è —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∞—è ‚ö†Ô∏è

---

## üéì Best Practices

### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

1. **–ú–∏–Ω–∏–º–∞–ª–∏–∑–º:** –î–æ–±–∞–≤–ª—è–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–∞–∑–º–µ—Ä:** –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä—É—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞:** –î–ª—è –µ–¥–∏–Ω–∏—á–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤ –Ω–µ –Ω—É–∂–Ω–∞ —Ü–µ–ª–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
4. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ RAM:** –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ `free -m` –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ

### ‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

1. **–ë–æ–ª—å—à–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:** `cn`, `google`, `apple` (—Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –¥–æ–º–µ–Ω–æ–≤)
2. **"–ù–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π":** –ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ
3. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ï—Å–ª–∏ –¥–æ–º–µ–Ω —É–∂–µ –≤ —Ä—É—á–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª–∞—Ö, –Ω–µ –Ω—É–∂–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è

### üéØ –¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

```
–†–∞–∑–º–µ—Ä geosite.dat: < 150 KB
RAM usage OpenClash: < 60 MB
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π: 10-20 –º–∞–∫—Å–∏–º—É–º
–≠–∫–æ–Ω–æ–º–∏—è RAM: > 40%
```

---

## üìà –ò—Å—Ç–æ—Ä–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### v1.0.7 (—Ç–µ–∫—É—â–∞—è) - 19 Nov 2025

```yaml
–ö–∞—Ç–µ–≥–æ—Ä–∏–π: 10
–†–∞–∑–º–µ—Ä: 89 KB
RAM: 54 MB
–°—Ç–∞—Ç—É—Å: ‚úÖ Stable (production)

–ò–∑–º–µ–Ω–µ–Ω–∏—è:
- –ò—Å–∫–ª—é—á–µ–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è cn (—Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∞—è)
- –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ—á–µ–º—É cn –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ cn
```

### v1.0.2 - 7 Nov 2025

```yaml
–ö–∞—Ç–µ–≥–æ—Ä–∏–π: 10
–†–∞–∑–º–µ—Ä: 89 KB
RAM: ~30 MB
–°—Ç–∞—Ç—É—Å: ‚úÖ Stable

–ü–µ—Ä–≤–∞—è —Ä–∞–±–æ—á–∞—è –≤–µ—Ä—Å–∏—è —Å GEOSITE –ø—Ä–∞–≤–∏–ª–∞–º–∏
```

### v1.0.1 - 6 Nov 2025

```yaml
–°—Ç–∞—Ç—É—Å: ‚ùå Failed
–ü—Ä–æ–±–ª–µ–º–∞: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–µ –ø–æ–ø–∞–ª–∏ –≤ —Ñ–∞–π–ª
```

---

## üîó –°—Å—ã–ª–∫–∏

- **Upstream categories:** https://github.com/v2fly/domain-list-community/tree/master/data
- **Workflow:** `.github/workflows/build-geosite.yml`
- **Latest release:** https://github.com/susaninz/openwrtrouter/releases/latest
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `/plugins/openclash/geosite-manager/README.md`

---

## üÜò Troubleshooting

### OpenClash –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–°–∏–º–ø—Ç–æ–º:** `list CATEGORY_NAME not found`

**–ü—Ä–∏—á–∏–Ω–∞:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è –∫–æ—Ç–æ—Ä–æ–π –Ω–µ—Ç –≤ geosite.dat

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–¥–∞–ª–∏—Ç–µ –ø—Ä–∞–≤–∏–ª–æ –∏–∑ custom rules
2. –ò–ª–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ geosite.dat —Å —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π

### –†–∞–∑–º–µ—Ä geosite.dat –≤–Ω–µ–∑–∞–ø–Ω–æ –≤—ã—Ä–æ—Å

**–ü—Ä–∏—á–∏–Ω–∞:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –±–æ–ª—å—à–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è (—Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º include:)

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π commit –≤ workflow
2. –£–¥–∞–ª–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
3. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ

### OpenClash –∂—Ä—ë—Ç –º–Ω–æ–≥–æ RAM

**–°–∏–º–ø—Ç–æ–º:** RAM usage > 80 MB

**–ü—Ä–∏—á–∏–Ω–∞:** –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≤ geosite.dat

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ—Ä–∏—Ç–µ –ª–∏—à–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑ workflow
2. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä—É—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –µ–¥–∏–Ω–∏—á–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **PRODUCTION READY**  
**–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è:** v1.0.7  
**RAM Savings:** 48%  
**–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞

